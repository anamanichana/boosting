<!doctype html>

<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="jquery-3.6.3.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="tailwind.css">
    <script src="alpine.js" type="text/javascript" defer></script>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
          integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <script src="translations.js" type="text/javascript"></script>

    <style>
        ::-webkit-scrollbar {
            width: 0;
            background: transparent;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            min-height: 100vh;
        }
        
        .underground-container {
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.9) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(148, 163, 184, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }
        
        .title-bar {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
        }
        
        .window-controls {
            display: flex;
            gap: 8px;
        }
        
        .window-control {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
            transition: opacity 0.2s ease;
        }
        
        .window-control:hover {
            opacity: 0.8;
        }
        
        .minimize { background: #64748b; }
        .close { background: #ef4444; }
        
        .sidebar {
            background: linear-gradient(180deg, rgba(30, 41, 59, 0.8) 0%, rgba(51, 65, 85, 0.6) 100%);
            border-right: 1px solid rgba(148, 163, 184, 0.1);
        }
        
        .sidebar-item {
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            position: relative;
        }
        
        .sidebar-item:hover {
            background: rgba(16, 185, 129, 0.1);
            border-left-color: #10b981;
        }
        
        .sidebar-item.active {
            background: rgba(16, 185, 129, 0.2);
            border-left-color: #10b981;
        }
        
        .sidebar-item.active::after {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 20px;
            background: #10b981;
            border-radius: 2px 0 0 2px;
        }
        
        .contract-card {
            background: linear-gradient(135deg, rgba(6, 78, 59, 0.3) 0%, rgba(5, 150, 105, 0.1) 100%);
            border: 1px solid rgba(16, 185, 129, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .contract-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .contract-card:hover::before {
            opacity: 1;
        }
        
        .contract-card:hover {
            border-color: rgba(16, 185, 129, 0.6);
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.2);
            transform: translateY(-2px);
        }
        
        .level-badge {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.4);
            border: 2px solid rgba(251, 191, 36, 0.3);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
            transform: translateY(-1px);
        }
        
        .contract-status {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-active {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        
        .status-expired {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        
        .right-sidebar {
            background: linear-gradient(180deg, rgba(30, 41, 59, 0.6) 0%, rgba(51, 65, 85, 0.4) 100%);
            border-left: 1px solid rgba(148, 163, 184, 0.1);
        }
        
        .right-sidebar-item {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .right-sidebar-item:hover {
            background: rgba(16, 185, 129, 0.1);
            transform: translateY(-2px);
        }
        
        .glow-text {
            text-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        
        .vehicle-class-badge {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .vehicle-class-badge::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .vehicle-class-badge:hover::before {
            opacity: 1;
        }
        
        .class-d { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
        .class-c { background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); }
        .class-b { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .class-a { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }
        .class-s { background: linear-gradient(135deg, #ec4899 0%, #be185d 100%); }
        
        .progress-bar {
            background: rgba(55, 65, 81, 0.5);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #10b981 0%, #059669 100%);
            height: 100%;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .floating-element {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
    </style>

    <script>
        $(document).ready(function () {
            $(document).keydown(function (event) {
                var keycode = (event.keyCode ? event.keyCode : event.which);
                if (keycode == '27') {
                    closeTablet();
                }
            });

            function closeTablet() {
                $.post("https://rahe-boosting/closeTablet", JSON.stringify({}));
            }
        })
    </script>
</head>

<body x-data="{
        showMenu: false,
        activeTab: 'home',
        experience: 0,
        crypto: 0,
        isAdminPanelAllowed: false,
        inQueue: false,
        currencyLocale: 'en-US',
        currency: 'USD',
        availableContracts: [],
        ownedContract: '',
        experience: 0,
        errorMessage: '',
        infoMessage: '',
        levelPercentage: 0,
        vehicleClasses: [],
        recommendedUploadWebsite: null,

        setDefaultPicture(event) {
            event.target.src = 'https://media.rahe.dev/img/defaultprofile.webp';
        }}"
      @message.window="
        if ($event.data.action == 'hideMenu')  {
            showMenu = false;
        }
        else if ($event.data.action == 'showMenu') {
            showMenu = true;
        }
        else if ($event.data.action == 'showTab') {
            activeTab = $event.data.tab;
        }
        else if ($event.data.action == 'loadInitialData') {
            currencyLocale = $event.data.data.currencyLocale;
            currency = $event.data.data.currency;
            isAdminPanelAllowed = $event.data.data.isAdminPanelAllowed;
            vehicleClasses = $event.data.data.vehicleClasses.reverse();
            recommendedUploadWebsite = $event.data.data.recommendedUploadWebsite;
        }
        else if ($event.data.action == 'loadSharedData') {
            experience = $event.data.data.experience;
            crypto = $event.data.data.crypto;
        }
        else if ($event.data.action == 'showError') {
            errorMessage = $event.data.message;

            setTimeout(
            function()
            {
                errorMessage = '';
            }, 3000);
        }
        else if ($event.data.action == 'showInfo') {
            infoMessage = $event.data.message;

            setTimeout(
            function()
            {
                infoMessage = '';
            }, 3000);
        }">

<div x-transition
     x-show="showMenu"
     style="position: absolute; margin: 0 auto; left:2vh; right: 2vh; top: 8vh; width:63.4vw; height:68vh;"
     class="underground-container rounded-xl overflow-hidden">

    <!-- Window Controls -->
    <div class="absolute top-4 right-4 window-controls z-50">
        <div class="window-control minimize"></div>
        <div class="window-control close" @click="showMenu = false"></div>
    </div>

    <!-- Error/Info Messages -->
    <div @mouseover="errorMessage = ''"
         x-transition:enter="transition duration-200 transform ease-out"
         x-transition:enter-start="scale-75"
         x-transition:leave="transition duration-100 transform ease-in"
         x-transition:leave-end="opacity-0 scale-90" x-show="errorMessage != ''"
         class="absolute z-10 bg-red-500 py-1.5 text-sm font-medium text-gray-200 w-full text-center">
        <span x-text="errorMessage"></span>
    </div>

    <div @mouseover="infoMessage = ''"
         x-transition:enter="transition duration-500 transform ease-out"
         x-transition:enter-start="scale-75"
         x-transition:leave="transition duration-100 transform ease-in"
         x-transition:leave-end="opacity-0 scale-90" x-show="infoMessage != ''"
         class="absolute z-10 bg-blue-700 py-1.5 text-sm font-medium text-gray-300 w-full text-center">
        <span x-text="infoMessage"></span>
    </div>

    <!-- Main Container -->
    <div class="h-full flex flex-col">
        <!-- Title Bar -->
        <div class="title-bar px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-emerald-500 rounded-full flex items-center justify-center">
                    <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                </div>
                <h1 class="text-white font-semibold text-lg glow-text">Underground</h1>
            </div>
            
            <!-- Level Display -->
            <div class="flex items-center gap-4">
                <div class="flex items-center gap-3">
                    <div class="level-badge px-4 py-2 rounded-full text-black font-bold text-lg floating-element">
                        D
                    </div>
                    <div class="text-white">
                        <div class="text-lg font-semibold" x-text="TRANSLATIONS.HOME_TAB.LEVEL"></div>
                        <div class="text-sm opacity-75" x-text="TRANSLATIONS.HOME_TAB.LEVEL_CLASS"></div>
                    </div>
                </div>
                <div class="text-right text-white">
                    <div class="text-2xl font-bold glow-text">S+</div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 flex overflow-hidden">
            <!-- Sidebar -->
            <div class="w-48 sidebar">
                <nav class="p-4 space-y-2">
                    <div class="sidebar-item px-4 py-3 rounded-lg cursor-pointer"
                         :class="{ 'active': activeTab === 'home' }"
                         @click="activeTab = 'home'; $.post('https://rahe-boosting/tabOpened', JSON.stringify({tab: 'home'}))">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 bg-gray-600 rounded flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                                </svg>
                            </div>
                            <span class="text-white text-sm font-medium" x-text="TRANSLATIONS.GENERAL.HEADER_HOME"></span>
                        </div>
                    </div>

                    <div class="sidebar-item px-4 py-3 rounded-lg cursor-pointer"
                         :class="{ 'active': activeTab === 'store' }"
                         @click="activeTab = 'store'; $.post('https://rahe-boosting/tabOpened', JSON.stringify({tab: 'store'}))">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 bg-gray-600 rounded flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                                </svg>
                            </div>
                            <span class="text-white text-sm font-medium" x-text="TRANSLATIONS.GENERAL.HEADER_STORE"></span>
                        </div>
                    </div>

                    <div class="sidebar-item px-4 py-3 rounded-lg cursor-pointer"
                         :class="{ 'active': activeTab === 'history' }"
                         @click="activeTab = 'history'; $.post('https://rahe-boosting/tabOpened', JSON.stringify({tab: 'history'}))">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 bg-gray-600 rounded flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <span class="text-white text-sm font-medium" x-text="TRANSLATIONS.GENERAL.HEADER_HISTORY"></span>
                        </div>
                    </div>

                    <div class="sidebar-item px-4 py-3 rounded-lg cursor-pointer"
                         :class="{ 'active': activeTab === 'leaderboard' }"
                         @click="activeTab = 'leaderboard'; $.post('https://rahe-boosting/tabOpened', JSON.stringify({tab: 'leaderboard'}))">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 bg-gray-600 rounded flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"/>
                                    <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 2a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <span class="text-white text-sm font-medium" x-text="TRANSLATIONS.GENERAL.HEADER_LEADERBOARD"></span>
                        </div>
                    </div>

                    <div x-show="isAdminPanelAllowed" class="sidebar-item px-4 py-3 rounded-lg cursor-pointer"
                         :class="{ 'active': activeTab === 'admin' }"
                         @click="activeTab = 'admin'; $.post('https://rahe-boosting/tabOpened', JSON.stringify({tab: 'admin'}))">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 bg-gray-600 rounded flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <span class="text-white text-sm font-medium" x-text="TRANSLATIONS.GENERAL.HEADER_ADMIN_PANEL"></span>
                        </div>
                    </div>

                    <div class="sidebar-item px-4 py-3 rounded-lg cursor-pointer"
                         :class="{ 'active': activeTab === 'profile' }"
                         @click="activeTab = 'profile'; $.post('https://rahe-boosting/tabOpened', JSON.stringify({tab: 'profile'}))">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 bg-gray-600 rounded flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <span class="text-white text-sm font-medium" x-text="TRANSLATIONS.GENERAL.HEADER_PROFILE"></span>
                        </div>
                    </div>
                </nav>
            </div>

            <!-- Content Area -->
            <div class="flex-1 overflow-y-auto">
                <!-- Home Tab -->
                <div x-show="activeTab === 'home'" x-data="{ tracks: []}"
                     @message.window="
                     if ($event.data.action == 'loadTabData' && $event.data.tab == 'home')  {
                        ownedContract = $event.data.data.ownedContract;
                        availableContracts = $event.data.data.availableContracts;
                        levelPercentage = $event.data.data.levelPercentage;
                     }" class="p-6 space-y-6">

                    <!-- Level Progress -->
                    <div class="contract-card rounded-xl p-6">
                        <h3 class="text-white text-lg font-semibold mb-4" x-text="TRANSLATIONS.HOME_TAB.LEVEL"></h3>
                        
                        <div class="flex items-center gap-4 mb-4">
                            <template x-for="(vehicleClass, index) in vehicleClasses" hidden>
                                <div class="flex flex-col items-center">
                                    <div class="vehicle-class-badge mb-2"
                                         :class="{
                                             'class-d': vehicleClass.class === 'D',
                                             'class-c': vehicleClass.class === 'C',
                                             'class-b': vehicleClass.class === 'B',
                                             'class-a': vehicleClass.class === 'A',
                                             'class-s': vehicleClass.class === 'S'
                                         }">
                                        <span x-text="vehicleClass.class"></span>
                                    </div>
                                    <div class="text-xs text-gray-400" x-text="vehicleClass.class + ' ' + TRANSLATIONS.HOME_TAB.LEVEL_CLASS"></div>
                                </div>
                            </template>
                        </div>

                        <div class="progress-bar h-3">
                            <div class="progress-fill" :style="`width: ${levelPercentage}%`"></div>
                        </div>
                    </div>

                    <!-- Active Contract -->
                    <div class="contract-card rounded-xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-white text-xl font-semibold" x-text="TRANSLATIONS.HOME_TAB.ACTIVE_CONTRACT_TITLE"></h2>
                            <div x-show="ownedContract?.groupData?.participants" class="contract-status status-active">
                                <span>ID </span>
                                <span class="font-mono" x-text="ownedContract.id"></span>
                            </div>
                        </div>

                        <div x-show="ownedContract === ''" class="text-center py-8">
                            <div class="text-gray-400 mb-4" x-text="TRANSLATIONS.HOME_TAB.ACTIVE_CONTRACT_NONE"></div>
                        </div>

                        <div x-show="ownedContract !== ''" class="space-y-4">
                            <!-- Contract Details Grid -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-slate-700 bg-opacity-50 rounded-lg p-4">
                                    <div class="text-emerald-400 text-sm font-medium mb-1">Expires in</div>
                                    <div class="text-white text-lg font-semibold">
                                        <span x-text="ownedContract.hours_to"></span> <span x-text="TRANSLATIONS.GENERAL.HOURS"></span>
                                        <span x-text="ownedContract.minutes_to"></span> <span x-text="TRANSLATIONS.GENERAL.MINUTES"></span>
                                    </div>
                                </div>
                                <div class="bg-slate-700 bg-opacity-50 rounded-lg p-4">
                                    <div class="text-emerald-400 text-sm font-medium mb-1">Buy In</div>
                                    <div class="text-white text-lg font-semibold">
                                        <span x-text="ownedContract.price"></span> <span x-text="TRANSLATIONS.GENERAL.CRYPTO"></span>
                                    </div>
                                </div>
                                <div class="bg-slate-700 bg-opacity-50 rounded-lg p-4">
                                    <div class="text-emerald-400 text-sm font-medium mb-1">Vehicle</div>
                                    <div class="text-white text-lg font-semibold" x-text="ownedContract.vehicle_model_name"></div>
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div class="flex gap-3 pt-4">
                                <button x-show="ownedContract.status === 'BOUGHT'"
                                        @click="$.post('https://rahe-boosting/startContract', JSON.stringify({contractId: ownedContract.id}))"
                                        class="btn-primary px-6 py-2 rounded-lg text-white font-medium">
                                    Start Contract
                                </button>
                                <button @click="$.post('https://rahe-boosting/cancelContract', JSON.stringify({contractId: ownedContract.id}))"
                                        class="btn-secondary px-6 py-2 rounded-lg text-white font-medium">
                                    Decline Contract
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Available Contracts -->
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <h3 class="text-white text-lg font-semibold" x-text="TRANSLATIONS.HOME_TAB.AVAILABLE_CONTRACTS"></h3>
                            <div class="flex gap-2">
                                <button x-show="!inQueue"
                                        @click="inQueue = !inQueue; $.post('https://rahe-boosting/joinQueue', JSON.stringify({}))"
                                        class="btn-primary px-4 py-2 rounded-lg text-white text-sm font-medium" 
                                        x-text="TRANSLATIONS.HOME_TAB.AVAILABLE_CONTRACTS_START">
                                </button>
                                <button x-show="inQueue"
                                        @click="inQueue = !inQueue; $.post('https://rahe-boosting/leaveQueue', JSON.stringify({}))"
                                        class="btn-secondary px-4 py-2 rounded-lg text-white text-sm font-medium" 
                                        x-text="TRANSLATIONS.HOME_TAB.AVAILABLE_CONTRACTS_STOP">
                                </button>
                            </div>
                        </div>

                        <div x-show="availableContracts.length == 0" class="text-center py-8">
                            <div class="text-gray-400 mb-2" x-text="TRANSLATIONS.HOME_TAB.AVAILABLE_CONTRACTS_NONE"></div>
                            <div class="text-gray-500 text-sm" x-text="TRANSLATIONS.HOME_TAB.AVAILABLE_CONTRACTS_HINT"></div>
                        </div>

                        <!-- Contract Cards -->
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                            <template x-for="availableContract in availableContracts" hidden>
                                <div class="contract-card rounded-lg p-4 hover:scale-105 transition-transform">
                                    <div class="flex items-center justify-between mb-3">
                                        <div class="vehicle-class-badge"
                                             :class="{
                                                 'class-d': availableContract.vehicle_class === 'D',
                                                 'class-c': availableContract.vehicle_class === 'C',
                                                 'class-b': availableContract.vehicle_class === 'B',
                                                 'class-a': availableContract.vehicle_class === 'A',
                                                 'class-s': availableContract.vehicle_class === 'S'
                                             }">
                                            <span x-text="availableContract.vehicle_class + (availableContract.is_vehicle_tuned ? '+' : '')"></span>
                                        </div>
                                        <div class="contract-status status-active">
                                            <div class="w-2 h-2 bg-emerald-400 rounded-full"></div>
                                            <span>Available</span>
                                        </div>
                                    </div>
                                    
                                    <div class="text-white mb-2">
                                        <span class="text-emerald-400 font-semibold" x-text="availableContract.vehicle_model_name"></span>
                                        <span class="text-gray-400 text-sm ml-2" x-text="'(' + availableContract.vehicle_license_plate + ')'"></span>
                                    </div>
                                    
                                    <div class="flex items-center justify-between">
                                        <div class="text-emerald-400 text-sm">
                                            <span x-text="TRANSLATIONS.HOME_TAB.AVAILABLE_CONTRACTS_COST + ': ' + availableContract.price + ' ' + TRANSLATIONS.GENERAL.CRYPTO"></span>
                                        </div>
                                        <button class="btn-primary px-3 py-1 rounded text-sm font-medium" 
                                                @click="$.post('https://rahe-boosting/acceptContract', JSON.stringify({contractId: availableContract.id}))"
                                                x-text="TRANSLATIONS.HOME_TAB.AVAILABLE_CONTRACTS_ACCEPT">
                                        </button>
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>

                <!-- Store Tab -->
                <div x-show="activeTab === 'store'" x-data="{ storeItems: [] }"
                     @message.window="
                     if ($event.data.action == 'loadTabData' && $event.data.tab == 'store')  {
                        storeItems = $event.data.data.storeItems;
                     }" class="p-6 space-y-6">
                    
                    <div class="flex items-center justify-between">
                        <h2 class="text-white text-2xl font-bold" x-text="TRANSLATIONS.STORE_TAB.TITLE"></h2>
                        <div class="flex items-center gap-2 text-emerald-400">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"/>
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"/>
                            </svg>
                            <span x-text="crypto + ' ' + TRANSLATIONS.GENERAL.CRYPTO"></span>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <template x-for="(storeItem, key) in storeItems" :key="key" hidden>
                            <div class="contract-card rounded-lg p-6">
                                <div class="flex items-center gap-4 mb-4">
                                    <img class="w-12 h-12 rounded-full" :src="'img/' + storeItem.iconFile" alt="">
                                    <div>
                                        <div class="text-white font-semibold text-lg" x-text="storeItem.title"></div>
                                        <div class="text-gray-400 text-sm" x-text="storeItem.description"></div>
                                    </div>
                                </div>
                                
                                <div class="flex items-center justify-between">
                                    <div class="text-emerald-400 font-semibold">
                                        <span x-text="storeItem.cryptoRequired + ' ' + TRANSLATIONS.GENERAL.CRYPTO"></span>
                                        <span class="text-gray-400"> & </span>
                                        <span x-text="storeItem.cashRequired.toLocaleString(currencyLocale, {style: 'currency', currency: currency})"></span>
                                    </div>
                                    <button class="btn-primary px-4 py-2 rounded text-sm font-medium"
                                            :disabled="storeItem.isSoldOut"
                                            :class="{ 'opacity-50 cursor-not-allowed': storeItem.isSoldOut }"
                                            @click="$.post('https://rahe-boosting/buyItem', JSON.stringify({item: key}))"
                                            x-text="TRANSLATIONS.STORE_TAB.BUY">
                                    </button>
                                </div>
                                
                                <div x-show="!storeItem.isSoldOut" class="text-emerald-400 text-xs mt-2" x-text="TRANSLATIONS.STORE_TAB.ITEM_AVAILABLE"></div>
                                <div x-show="storeItem.isSoldOut" class="text-red-400 text-xs mt-2" x-text="TRANSLATIONS.STORE_TAB.ITEM_UNAVAILABLE"></div>
                            </div>
                        </template>
                    </div>
                </div>

                <!-- History Tab -->
                <div x-show="activeTab === 'history'" x-data="{ completedContracts: [] }"
                     @message.window="
                     if ($event.data.action == 'loadTabData' && $event.data.tab == 'history')  {
                        completedContracts = $event.data.data.completedContracts;
                     }" class="p-6">
                    
                    <h2 class="text-white text-2xl font-bold mb-6" x-text="TRANSLATIONS.HISTORY_TAB.TITLE"></h2>
                    
                    <div class="space-y-4">
                        <template x-for="completedContract in completedContracts" hidden>
                            <div class="contract-card rounded-lg p-4">
                                <div class="flex items-center gap-4">
                                    <div class="vehicle-class-badge"
                                         :class="{
                                             'class-d': completedContract.vehicle_class === 'D',
                                             'class-c': completedContract.vehicle_class === 'C',
                                             'class-b': completedContract.vehicle_class === 'B',
                                             'class-a': completedContract.vehicle_class === 'A',
                                             'class-s': completedContract.vehicle_class === 'S'
                                         }">
                                        <span x-text="completedContract.vehicle_class + (completedContract.is_vehicle_tuned ? '+' : '')"></span>
                                    </div>
                                    
                                    <div class="flex-1">
                                        <div class="text-white font-semibold">
                                            <span x-text="TRANSLATIONS.HISTORY_TAB.SUCCESSFUL_PRE"></span>
                                            <span class="text-emerald-400" x-text="completedContract.vehicle_model_name"></span>
                                            <span x-text="TRANSLATIONS.HISTORY_TAB.SUCCESSFUL_AFT"></span>
                                        </div>
                                        <div class="text-gray-400 text-sm">
                                            <span x-text="completedContract.vehicle_class"></span> <span x-text="TRANSLATIONS.HISTORY_TAB.VEHICLE_DESC"></span> <span x-text="completedContract.vehicle_license_plate"></span>
                                        </div>
                                        <div class="text-emerald-400 text-sm mt-1">
                                            <span x-text="TRANSLATIONS.HISTORY_TAB.RECEIVED_PAYOUT"></span>: 
                                            <span x-text="completedContract.payout_cash.toLocaleString(currencyLocale, {style: 'currency', currency: currency})"></span>
                                            <span x-text="TRANSLATIONS.HISTORY_TAB.AND"></span>
                                            <span x-text="completedContract.payout_crypto + ' ' + TRANSLATIONS.GENERAL.CRYPTO"></span>
                                        </div>
                                    </div>
                                    
                                    <div class="text-right">
                                        <div class="contract-status"
                                             :class="{
                                                 'bg-emerald-200 text-emerald-800': completedContract.days_ago <= 14,
                                                 'bg-yellow-200 text-yellow-800': completedContract.days_ago > 14 && completedContract.days_ago < 31,
                                                 'bg-red-200 text-red-800': completedContract.days_ago >= 31
                                             }">
                                            <span x-text="completedContract.days_ago + ' ' + TRANSLATIONS.LEADER_TAB.TABLE_DAYS_AGO"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>

                <!-- Leaderboard Tab -->
                <div x-show="activeTab === 'leaderboard'" x-data="{ leaderboardEntries: [] }"
                     @message.window="
                     if ($event.data.action == 'loadTabData' && $event.data.tab == 'leaderboard')  {
                        leaderboardEntries = $event.data.data.leaderboardEntries;
                     }" class="p-6">
                    
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-white text-2xl font-bold" x-text="TRANSLATIONS.LEADER_TAB.HEADER_LEADERBOARD"></h2>
                        <div class="contract-status status-active">
                            <span x-text="experience + ' ' + TRANSLATIONS.LEADER_TAB.HEADER_EXPERIENCE"></span>
                        </div>
                    </div>
                    
                    <div class="text-gray-400 text-sm mb-6" x-text="TRANSLATIONS.LEADER_TAB.HEADER_HELP"></div>
                    
                    <div class="contract-card rounded-lg overflow-hidden">
                        <table class="w-full">
                            <thead class="bg-slate-700 bg-opacity-50">
                                <tr>
                                    <th class="px-4 py-3 text-left text-white font-semibold">#</th>
                                    <th class="px-4 py-3 text-left text-white font-semibold" x-text="TRANSLATIONS.LEADER_TAB.TABLE_USER"></th>
                                    <th class="px-4 py-3 text-center text-white font-semibold" x-text="TRANSLATIONS.LEADER_TAB.TABLE_FINISHED"></th>
                                    <th class="px-4 py-3 text-center text-white font-semibold" x-text="TRANSLATIONS.LEADER_TAB.TABLE_EXPERIENCE"></th>
                                    <th class="px-4 py-3 text-center text-white font-semibold" x-text="TRANSLATIONS.LEADER_TAB.TABLE_LAST_ACTIVE"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <template x-for="(entry, index) in leaderboardEntries" :key="index">
                                    <tr class="border-t border-gray-700">
                                        <td class="px-4 py-3 text-white font-bold" x-text="index + 1"></td>
                                        <td class="px-4 py-3">
                                            <div class="flex items-center gap-3">
                                                <img class="w-8 h-8 rounded-full" :src="entry.profile_picture" @error="setDefaultPicture($event)" alt="">
                                                <span class="text-white" x-text="entry.alias"></span>
                                            </div>
                                        </td>
                                        <td class="px-4 py-3 text-center text-gray-300" x-text="entry.contract_count"></td>
                                        <td class="px-4 py-3 text-center text-gray-300" x-text="Math.round(entry.experience)"></td>
                                        <td class="px-4 py-3 text-center">
                                            <span class="contract-status"
                                                  :class="{
                                                      'bg-emerald-200 text-emerald-800': entry.last_contract_days_ago <= 14,
                                                      'bg-yellow-200 text-yellow-800': entry.last_contract_days_ago > 14 && entry.last_contract_days_ago <= 31,
                                                      'bg-red-200 text-red-800': entry.last_contract_days_ago > 31
                                                  }"
                                                  x-text="entry.last_contract_days_ago + ' ' + TRANSLATIONS.LEADER_TAB.TABLE_DAYS_AGO"></span>
                                        </td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Profile Tab -->
                <div x-show="activeTab === 'profile'"
                     x-data="{name: '', showNameChange: false, showPictureChange: false, picture: '', date: '', identifier: ''}"
                     @message.window="
                     if ($event.data.action == 'loadTabData' && $event.data.tab == 'profile')  {
                        name = $event.data.data.name;
                        picture = $event.data.data.picture;
                        date = $event.data.data.date;
                     }
                     else if ($event.data.action == 'loadSharedData') {
                        identifier = $event.data.data.identifier;
                     }" class="p-6">
                    
                    <div class="contract-card rounded-lg p-6">
                        <div class="flex items-center gap-6">
                            <img class="w-16 h-16 rounded-full" :src="picture" @error="setDefaultPicture($event)" alt="">
                            <div class="flex-1">
                                <h2 class="text-white text-2xl font-bold">
                                    <span x-text="TRANSLATIONS.PROFILE_TAB.HEADER_DRIVER"></span> 
                                    <span x-text="name"></span> 
                                    <span x-text="TRANSLATIONS.PROFILE_TAB.HEADER_DATA"></span>
                                </h2>
                                <div class="text-gray-400 mt-2">
                                    <span x-text="TRANSLATIONS.PROFILE_TAB.MEMBER_SINCE"></span> <span x-text="date"></span>
                                </div>
                                <div class="text-gray-400">
                                    <span x-text="TRANSLATIONS.PROFILE_TAB.IDENTIFIER"></span> <span x-text="identifier"></span>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <button class="btn-primary px-4 py-2 rounded text-sm font-medium" 
                                        x-text="TRANSLATIONS.PROFILE_TAB.BUTTON_NAME">
                                </button>
                                <button class="btn-primary px-4 py-2 rounded text-sm font-medium" 
                                        x-text="TRANSLATIONS.PROFILE_TAB.PICTURE_NAME">
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Admin Panel Tab -->
                <div x-show="activeTab === 'admin'" x-data="{classPlayerIdentifier: '', selectedClass: '', dataPlayerIdentifier: '', dataChangeStage: 'UNLOADED',
                     dataChangePlayer: '', dataChangeExperience: '', dataChangeCrypto: ''}"
                     @message.window="
                     if ($event.data.action == 'loadTabData' && $event.data.tab == 'admin')  {
                        if ($event.data.data.loadedPlayerData) {
                            let playerData = $event.data.data.loadedPlayerData;
                            dataChangeStage = 'LOADED';
                            dataChangePlayer = playerData.alias;
                            dataChangeExperience = playerData.experience;
                            dataChangeCrypto = playerData.crypto;
                        }
                     }" class="p-6 space-y-6">
                    
                    <h2 class="text-white text-2xl font-bold" x-text="TRANSLATIONS.ADMIN_TAB.HEADER"></h2>
                    
                    <!-- General Contract Generation -->
                    <div class="contract-card rounded-lg p-6">
                        <h3 class="text-white text-lg font-semibold mb-2" x-text="TRANSLATIONS.ADMIN_TAB.GENERAL_TITLE"></h3>
                        <p class="text-gray-400 mb-4" x-text="TRANSLATIONS.ADMIN_TAB.GENERAL_DESC"></p>
                        <button class="btn-primary px-6 py-2 rounded font-medium"
                                @click="$.post('https://rahe-boosting/startGenerator', JSON.stringify({}))"
                                x-text="TRANSLATIONS.ADMIN_TAB.GENERAL_BUTTON">
                        </button>
                    </div>
                    
                    <!-- Player Contract Giving -->
                    <div class="contract-card rounded-lg p-6">
                        <h3 class="text-white text-lg font-semibold mb-2" x-text="TRANSLATIONS.ADMIN_TAB.CONTRACT_TITLE"></h3>
                        <p class="text-gray-400 mb-4" x-text="TRANSLATIONS.ADMIN_TAB.CONTRACT_DESC"></p>
                        <div class="flex gap-2">
                            <input x-model="classPlayerIdentifier" type="text" 
                                   class="flex-1 px-3 py-2 bg-slate-700 text-white rounded border border-gray-600 focus:border-emerald-500"
                                   :placeholder="TRANSLATIONS.ADMIN_TAB.PLACEHOLDER_IDENTIFIER">
                            <button class="btn-primary px-3 py-2 rounded font-medium"
                                    @click="$.post('https://rahe-boosting/generateContract', JSON.stringify({playerIdentifier: classPlayerIdentifier, class: 'S'}))">S</button>
                            <button class="btn-primary px-3 py-2 rounded font-medium"
                                    @click="$.post('https://rahe-boosting/generateContract', JSON.stringify({playerIdentifier: classPlayerIdentifier, class: 'A'}))">A</button>
                            <button class="btn-primary px-3 py-2 rounded font-medium"
                                    @click="$.post('https://rahe-boosting/generateContract', JSON.stringify({playerIdentifier: classPlayerIdentifier, class: 'B'}))">B</button>
                            <button class="btn-primary px-3 py-2 rounded font-medium"
                                    @click="$.post('https://rahe-boosting/generateContract', JSON.stringify({playerIdentifier: classPlayerIdentifier, class: 'C'}))">C</button>
                            <button class="btn-primary px-3 py-2 rounded font-medium"
                                    @click="$.post('https://rahe-boosting/generateContract', JSON.stringify({playerIdentifier: classPlayerIdentifier, class: 'D'}))">D</button>
                        </div>
                    </div>
                    
                    <!-- Player Data Changing -->
                    <div class="contract-card rounded-lg p-6">
                        <h3 class="text-white text-lg font-semibold mb-2" x-text="TRANSLATIONS.ADMIN_TAB.DATA_TITLE"></h3>
                        <p class="text-gray-400 mb-4" x-text="TRANSLATIONS.ADMIN_TAB.DATA_DESC"></p>
                        
                        <div x-show="dataChangeStage === 'LOADED'" class="text-sm text-gray-400 mb-4">
                            <b><span x-text="TRANSLATIONS.ADMIN_TAB.DATA_LOADED_PLAYER"></span>: </b>
                            <span x-text="dataChangePlayer"></span> 
                            (<span x-text="dataChangeCrypto"></span> <span x-text="TRANSLATIONS.GENERAL.CRYPTO"></span>, 
                            <span x-text="dataChangeExperience"></span>xp)
                        </div>
                        
                        <div x-show="dataChangeStage === 'UNLOADED'" class="flex gap-2">
                            <input x-model="dataPlayerIdentifier" type="text" 
                                   class="flex-1 px-3 py-2 bg-slate-700 text-white rounded border border-gray-600 focus:border-emerald-500"
                                   :placeholder="TRANSLATIONS.ADMIN_TAB.PLACEHOLDER_IDENTIFIER">
                            <button class="btn-primary px-6 py-2 rounded font-medium"
                                    @click="$.post('https://rahe-boosting/loadPlayerData', JSON.stringify({playerIdentifier: dataPlayerIdentifier}))"
                                    x-text="TRANSLATIONS.ADMIN_TAB.DATA_BUTTON_LOAD">
                            </button>
                        </div>
                        
                        <div x-show="dataChangeStage === 'LOADED'" class="flex gap-2">
                            <button class="btn-secondary px-3 py-2 rounded"
                                    @click="dataChangeStage = 'UNLOADED'">
                                
                            </button>
                            <input x-model="dataChangeCrypto" type="number" 
                                   class="flex-1 px-3 py-2 bg-slate-700 text-white rounded border border-gray-600 focus:border-emerald-500"
                                   placeholder="Crypto..">
                            <input x-model="dataChangeExperience" type="number" 
                                   class="flex-1 px-3 py-2 bg-slate-700 text-white rounded border border-gray-600 focus:border-emerald-500"
                                   placeholder="Experience..">
                            <button class="btn-primary px-6 py-2 rounded font-medium"
                                    @click="$.post('https://rahe-boosting/savePlayerData', JSON.stringify({playerIdentifier: dataPlayerIdentifier, crypto: dataChangeCrypto, experience: dataChangeExperience}))"
                                    x-text="TRANSLATIONS.ADMIN_TAB.DATA_BUTTON_SAVE">
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Sidebar -->
            <div class="w-64 right-sidebar p-4">
                <div class="space-y-6">
                    <!-- Transfer Contract -->
                    <div class="right-sidebar-item text-center p-4 rounded-lg">
                        <div class="w-12 h-12 bg-gray-600 rounded-lg mx-auto mb-3 flex items-center justify-center">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M8 5a1 1 0 100 2h5.586l-1.293 1.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L13.586 5H8z"/>
                            </svg>
                        </div>
                        <div class="text-white text-sm font-medium">Transfer Contract</div>
                    </div>

                    <!-- Auction Contract -->
                    <div class="right-sidebar-item text-center p-4 rounded-lg">
                        <div class="w-12 h-12 bg-gray-600 rounded-lg mx-auto mb-3 flex items-center justify-center">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"/>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                        <div class="text-white text-sm font-medium">Auction Contract</div>
                    </div>
                </div>

                <!-- Bottom Text -->
                <div class="absolute bottom-8 right-8">
                    <div class="text-purple-400 font-bold text-xl transform rotate-12 glow-text">
                        START THE CONT
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<img x-transition
     x-data="{backgroundUrl: 'img/background-frame.png'}"
     @message.window="
     if ($event.data.action == 'useThinBackgroundFrame') {
        backgroundUrl = 'img/background-frame-2.png'
     }"
     x-show="showMenu" :src="backgroundUrl" alt="tablet" class="tablet-frame"
     style="pointer-events: none; position: absolute; margin: 0 auto; left:0; right: 0; top: 2.5vh; width:70vw;height:79vh;"/>

</body>
</html>